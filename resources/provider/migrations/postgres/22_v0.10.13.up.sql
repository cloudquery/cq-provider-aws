-- Autogenerated by migration tool on 2022-03-11 20:24:24
-- CHANGEME: Verify or edit this file before proceeding

-- Resource: ec2.instance_statuses
CREATE TABLE IF NOT EXISTS "aws_ec2_instance_statuses" (
	"cq_id" uuid NOT NULL,
	"cq_meta" jsonb,
	"account_id" text,
	"region" text,
	"arn" text,
	"availability_zone" text,
	"instance_id" text,
	"instance_state_code" integer,
	"instance_state_name" text,
	"details" jsonb,
	"status" text,
	"outpost_arn" text,
	"system_status" text,
	"system_status_details" jsonb,
	CONSTRAINT aws_ec2_instance_statuses_pk PRIMARY KEY(arn),
	UNIQUE(cq_id)
);
CREATE TABLE IF NOT EXISTS "aws_ec2_instance_status_events" (
	"cq_id" uuid NOT NULL,
	"cq_meta" jsonb,
	"instance_status_cq_id" uuid,
	"code" text,
	"description" text,
	"id" text,
	"not_after" timestamp without time zone,
	"not_before" timestamp without time zone,
	"not_before_deadline" timestamp without time zone,
	CONSTRAINT aws_ec2_instance_status_events_pk PRIMARY KEY(instance_status_cq_id,id),
	UNIQUE(cq_id),
	FOREIGN KEY (instance_status_cq_id) REFERENCES aws_ec2_instance_statuses(cq_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS "aws_access_analyzer_analyzer_archive_rules"
(
    "cq_id"          uuid NOT NULL,
    "cq_meta"        jsonb,
    "analyzer_cq_id" uuid,
    "created_at"     timestamp without time zone,
    "filter"         jsonb,
    "rule_name"      text,
    "updated_at"     timestamp without time zone,
    CONSTRAINT aws_access_analyzer_analyzer_archive_rules_pk PRIMARY KEY (cq_id),
    UNIQUE (cq_id),
    FOREIGN KEY (analyzer_cq_id) REFERENCES aws_access_analyzer_analyzers (cq_id) ON DELETE CASCADE
);